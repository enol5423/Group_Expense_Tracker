# ğŸ¨ Visual Guide: 5 Split Types Explained

## Overview

This guide provides a visual and practical explanation of all 5 splitting methods available in the Add Smart Expense dialog.

---

## 1. ğŸ”µ Equal Split

### When to Use
- Group dinners where everyone shares equally
- Shared utilities (electricity, internet)
- Group gifts
- Team activities

### How It Works
Total amount Ã· Number of members = Each person's share

### Example Scenario
**Restaurant Bill:** à§³900 for 3 people

```
Total: à§³900
Members: Alice, Bob, Charlie

Calculation:
- Alice: à§³900 Ã· 3 = à§³300.00
- Bob: à§³900 Ã· 3 = à§³300.00
- Charlie: à§³900 Ã· 3 = à§³300.00
```

### Visual UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”µ Everyone pays equally            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alice         [à§³300.00]             â”‚
â”‚ Bob           [à§³300.00]             â”‚
â”‚ Charlie       [à§³300.00]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Case Benefits
âœ… Simplest method  
âœ… No disputes  
âœ… Fair for shared activities  

---

## 2. ğŸŸ£ Who Joined (Participation-Based)

### When to Use
- Optional movie nights
- Casual hangouts
- Events where not everyone attended
- Weekend trips with partial attendance

### How It Works
Only selected participants split the bill equally

### Example Scenario
**Movie Night:** à§³600, but Charlie didn't attend

```
Total: à§³600
All Members: Alice, Bob, Charlie
Who Joined: Alice, Bob

Calculation:
- Alice: à§³600 Ã· 2 = à§³300.00
- Bob: à§³600 Ã· 2 = à§³300.00
- Charlie: à§³0.00 (didn't participate)
```

### Visual UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ£ Select who participated          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] Alice     [à§³300.00]             â”‚
â”‚ [âœ“] Bob       [à§³300.00]             â”‚
â”‚ [ ] Charlie   (not selected)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Case Benefits
âœ… Fair for optional events  
âœ… No one pays for others' choices  
âœ… Encourages participation tracking  

---

## 3. ğŸŸ¢ Itemized Split

### When to Use
- Restaurant orders with different items
- Grocery shopping (different items for different people)
- Shopping trips with individual purchases
- Food delivery orders

### How It Works
Each item is assigned to specific people who consumed it

### Example Scenario
**Restaurant Bill:** à§³1000

```
Items:
- Pizza (à§³500) â†’ Shared by Alice & Bob
- Pasta (à§³300) â†’ Only Charlie
- Dessert (à§³200) â†’ Shared by all 3

Calculation:
- Alice: (à§³500 Ã· 2) + (à§³200 Ã· 3) = à§³250 + à§³66.67 = à§³316.67
- Bob: (à§³500 Ã· 2) + (à§³200 Ã· 3) = à§³250 + à§³66.67 = à§³316.67
- Charlie: à§³300 + (à§³200 Ã· 3) = à§³300 + à§³66.67 = à§³366.67

Total: à§³1000.00 âœ“
```

### Visual UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ Add items and assign to members  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Item: Pizza          à§³500.00        â”‚
â”‚ [Alice] [Bob] Charlie               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Item: Pasta          à§³300.00        â”‚
â”‚ Alice Bob [Charlie]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Item: Dessert        à§³200.00        â”‚
â”‚ [Alice] [Bob] [Charlie]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [+ Add Item]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Case Benefits
âœ… Most accurate for restaurant bills  
âœ… Transparent individual consumption  
âœ… No subsidizing others' orders  

---

## 4. ğŸŸ  Custom Percentage

### When to Use
- Income-based rent splitting
- Business expense sharing
- Weighted contributions based on usage
- Unequal ownership scenarios

### How It Works
Assign custom percentage to each person (must total 100%)

### Example Scenario
**Shared Apartment Rent:** à§³30,000

```
Total: à§³30,000
Members with different room sizes:

Percentages:
- Alice (Master bedroom): 40%
- Bob (Regular room): 30%
- Charlie (Regular room): 30%

Calculation:
- Alice: à§³30,000 Ã— 40% = à§³12,000.00
- Bob: à§³30,000 Ã— 30% = à§³9,000.00
- Charlie: à§³30,000 Ã— 30% = à§³9,000.00

Total: 100% âœ“
```

### Visual UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ  Set custom percentages (100%)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alice    [40.0] %    [à§³12,000.00]   â”‚
â”‚ Bob      [30.0] %    [à§³9,000.00]    â”‚
â”‚ Charlie  [30.0] %    [à§³9,000.00]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Case Benefits
âœ… Flexible for complex scenarios  
âœ… Accounts for unequal circumstances  
âœ… Transparent percentage distribution  

---

## 5. ğŸ©· By Duration (Time-Based)

### When to Use
- Shared vacation rentals
- Hotel room splitting
- Car rental with different usage days
- Temporary shared accommodations
- Pay-per-day arrangements

### How It Works
Split based on days/hours each person used the service

### Example Scenario
**Airbnb for Weekend Trip:** à§³9,000

```
Total: à§³9,000 for 4.5 days total usage

Duration:
- Alice: 2 days
- Bob: 1.5 days  
- Charlie: 1 day

Calculation:
Total duration = 2 + 1.5 + 1 = 4.5 days

- Alice: (2 Ã· 4.5) Ã— à§³9,000 = à§³4,000.00
- Bob: (1.5 Ã· 4.5) Ã— à§³9,000 = à§³3,000.00
- Charlie: (1 Ã· 4.5) Ã— à§³9,000 = à§³2,000.00

Total: à§³9,000.00 âœ“
```

### Visual UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ©· Days/hours each person spent     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Alice    [2.0] days   [à§³4,000.00]   â”‚
â”‚ Bob      [1.5] days   [à§³3,000.00]   â”‚
â”‚ Charlie  [1.0] days   [à§³2,000.00]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Case Benefits
âœ… Fair for time-based resources  
âœ… Proportional to actual usage  
âœ… Perfect for vacation rentals  

---

## Real-World Use Cases

### ğŸ  Apartment Sharing
- **Rent:** Custom % (based on room size)
- **Utilities:** Equal Split
- **Groceries:** Itemized (different preferences)
- **Internet:** Equal Split

### ğŸŒ´ Weekend Trip
- **Hotel:** By Duration (different stay lengths)
- **Meals:** Who Joined (not everyone at every meal)
- **Gas:** Equal Split (shared car)
- **Activities:** Who Joined (optional activities)

### ğŸ• Restaurant Group
- **Food:** Itemized (different orders)
- **Tip:** Equal Split
- **Drinks:** Who Joined (not everyone drank)

### ğŸ’¼ Business Expense
- **Office Rent:** Custom % (based on company equity)
- **Supplies:** Equal Split
- **Client Dinner:** Itemized (different meals)

---

## Decision Tree

```
Need to split an expense?
â”‚
â”œâ”€ Everyone participated equally?
â”‚  â””â”€ YES â†’ Use Equal Split ğŸ”µ
â”‚
â”œâ”€ Did some people not participate?
â”‚  â””â”€ YES â†’ Use Who Joined ğŸŸ£
â”‚
â”œâ”€ Restaurant with different orders?
â”‚  â””â”€ YES â†’ Use Itemized ğŸŸ¢
â”‚
â”œâ”€ Need weighted distribution?
â”‚  â””â”€ YES â†’ Use Custom % ğŸŸ 
â”‚
â””â”€ Based on time/days used?
   â””â”€ YES â†’ Use By Duration ğŸ©·
```

---

## Validation Rules

### All Split Types
âœ… Total amount must be positive  
âœ… At least one person must be included  
âœ… Description is required  
âœ… Category must be selected  

### Type-Specific Validations

**Equal Split:**  
âœ… No additional validation needed

**Who Joined:**  
âœ… At least 1 participant must be selected

**Itemized:**  
âœ… Item amounts must sum to total  
âœ… Each item needs at least 1 person  
âœ… Item names can't be empty

**Custom %:**  
âœ… Percentages must sum to exactly 100%  
âœ… All percentages must be non-negative

**By Duration:**  
âœ… At least one person with >0 days  
âœ… All durations must be non-negative

---

## Color Coding Reference

| Split Type | Primary Color | Background | Text Color | Border |
|------------|---------------|------------|------------|--------|
| Equal Split | Blue | `bg-blue-50` | `text-blue-900` | `border-blue-100` |
| Who Joined | Purple | `bg-purple-50` | `text-purple-900` | `border-purple-100` |
| Itemized | Emerald | `bg-emerald-50` | `text-emerald-900` | `border-emerald-100` |
| Custom % | Orange | `bg-orange-50` | `text-orange-900` | `border-orange-100` |
| By Duration | Pink | `bg-pink-50` | `text-pink-900` | `border-pink-100` |

---

## Tips for Users

### ğŸ’¡ Pro Tips

1. **For Restaurant Bills:** Use Itemized for accurate splitting
2. **For Quick Splits:** Equal Split is fastest
3. **For Trips:** Combine Who Joined and By Duration
4. **For Rent:** Use Custom % based on room sizes
5. **Review Before Submit:** Check split preview before adding

### âš ï¸ Common Mistakes

âŒ Using Equal Split when people ordered different amounts  
âœ… Use Itemized instead

âŒ Forgetting to deselect non-participants in Who Joined  
âœ… Double-check participant list

âŒ Itemized amounts not matching total  
âœ… Use split preview to verify

âŒ Custom % not totaling 100%  
âœ… Watch the validation message

---

## Implementation Notes

### Data Structure

Each split type stores different metadata:

```typescript
// Equal Split
{ splitType: 'equal', splitAmounts: {...} }

// Who Joined
{ splitType: 'who-joined', participants: [...], splitAmounts: {...} }

// Itemized
{ splitType: 'itemized', itemSplits: [...], splitAmounts: {...} }

// Custom %
{ splitType: 'custom-percentage', percentages: {...}, splitAmounts: {...} }

// By Duration
{ splitType: 'by-duration', duration: {...}, splitAmounts: {...} }
```

### Backward Compatibility

The component maintains compatibility with existing split types by mapping:
- Old `'equal'` â†’ New `'equal'` âœ…
- Old `'unequal'` â†’ New `'itemized'` or `'custom-percentage'`
- Old `'percentage'` â†’ New `'custom-percentage'` âœ…

---

## Summary

All 5 split types are now implemented with:
- âœ… Beautiful color-coded UI
- âœ… Real-time calculations
- âœ… Animated transitions
- âœ… Validation rules
- âœ… Dark mode support
- âœ… Mobile responsive
- âœ… BDT currency (à§³)

Choose the right split type for your scenario and enjoy transparent, fair expense management! ğŸ‰
