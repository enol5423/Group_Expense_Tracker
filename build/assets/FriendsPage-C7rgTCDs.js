import{j as e,S as g,C as i,a as d,U as b,B as j}from"./index-DwQK3muS.js";import{F as u}from"./FriendList-BNcfCsRc.js";import{A as y}from"./AddFriendDialog-CMPfcJIx.js";import{A as w}from"./arrow-up-right-CsISBi3M.js";import"./select-B6NQ53IA.js";import"./dollar-sign-DGDz-2Nv.js";import"./tabs-DTQ2Clpe.js";function A({friends:a,loading:n,userId:l,onAddFriend:o,onAddFriendByEmail:c,onAddFriendByCode:x,onSearchSuggestions:m,onSettle:h}){const t=a.reduce((s,r)=>(r.balance>0&&(s.theyOwe+=r.balance),r.balance<0&&(s.youOwe+=Math.abs(r.balance)),s),{theyOwe:0,youOwe:0}),p=[{label:"Connected friends",value:a.length,helper:"Active collaborators"},{label:"They owe you",value:`৳${t.theyOwe.toFixed(0)}`,helper:"Pending repayments"},{label:"You owe",value:`৳${t.youOwe.toFixed(0)}`,helper:"Settle soon"}];return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 pb-16",children:[e.jsxs("section",{className:"rounded-[36px] bg-gradient-to-br from-slate-900 via-emerald-950 to-gray-900 p-10 text-white",children:[e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-1 text-xs uppercase tracking-[0.4em] text-white/60",children:[e.jsx(g,{className:"h-4 w-4"}),"Friends"]}),e.jsx("h1",{className:"mt-3 text-4xl font-semibold",children:"Shared circles"}),e.jsx("p",{className:"mt-3 max-w-2xl text-white/70",children:"Invite friends, settle balances, and keep every split transparent across study trips, rent squads, and weekend plans."})]}),e.jsxs("div",{className:"flex flex-col items-start gap-3 sm:flex-row sm:items-center",children:[e.jsx(y,{onAddFriend:o,onAddFriendByEmail:c,onAddFriendByCode:x,onSearchSuggestions:m,userFriendCode:l}),e.jsxs("div",{className:"rounded-full border border-white/30 px-4 py-2 text-xs text-white/70",children:["Friend code: ",e.jsx("span",{className:"font-semibold tracking-widest",children:l})]})]})]}),e.jsx("div",{className:"mt-8 grid gap-4 sm:grid-cols-3",children:p.map(s=>e.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-4",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-white/60",children:s.label}),e.jsx("p",{className:"mt-3 text-3xl font-semibold",children:s.value}),e.jsx("p",{className:"text-xs text-white/70 mt-1",children:s.helper})]},s.label))})]}),n?e.jsx("div",{className:"rounded-3xl border border-gray-200 bg-white py-12 text-center text-gray-500",children:"Loading your friends..."}):e.jsxs("section",{className:"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]",children:[e.jsx(i,{className:"rounded-[32px] border border-gray-200",children:e.jsxs(d,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Roster"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Friend ledger"})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(u,{friends:a,onSettle:h})})]})}),e.jsx(i,{className:"rounded-[32px] border border-gray-200 bg-white",children:e.jsxs(d,{className:"space-y-5 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-2xl bg-emerald-100 p-3",children:e.jsx(b,{className:"h-6 w-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Relationship tips"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Keep every crew in sync"})]})]}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[e.jsx("li",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-3",children:"Remind top debtors once balances cross ৳500."}),e.jsx("li",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-3",children:"Use settle actions when someone pays cash offline."}),e.jsx("li",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-3",children:"Share your friend code for quick onboarding."})]}),e.jsxs(j,{variant:"outline",className:"w-full rounded-full",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"View activity"]})]})})]})]})}export{A as FriendsPage};
