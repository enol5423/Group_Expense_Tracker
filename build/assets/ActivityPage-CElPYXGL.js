import{c as g,j as e,C as r,e as t,f as h,U as p,B as m}from"./index-CRIiYYAI.js";import{D as j}from"./dollar-sign-CfMDbIwx.js";import{T as N}from"./trending-down-Cnl1QEcd.js";import{T as y}from"./trending-up-BAi8RDrt.js";import{D as b}from"./download-4AW0JUmb.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],w=g("clock",u);function f({activities:s,onGroupClick:l}){if(s.length===0)return e.jsx(r,{className:"border border-gray-200 shadow-sm",children:e.jsxs(t,{className:"p-12 text-center",children:[e.jsx(h,{className:"mx-auto h-12 w-12 mb-4 text-gray-300"}),e.jsx("p",{className:"text-gray-600",children:"No activity yet"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start adding expenses to see them here!"})]})});const i=a=>{const n=new Date(a),c=new Date().getTime()-n.getTime(),d=Math.floor(c/(1e3*60*60*24));return d===0?"Today":d===1?"Yesterday":d<7?`${d} days ago`:n.toLocaleDateString()};return e.jsx(r,{className:"border border-gray-200 shadow-sm",children:e.jsxs(t,{className:"p-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Recent Transactions"}),e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsxs("div",{className:`flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors ${l?"cursor-pointer":""}`,onClick:()=>l?.(a.groupId),children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white border border-gray-200",children:e.jsx(h,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"h-3 w-3"}),a.groupName]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["By ",a.paidBy]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i(a.createdAt)})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["৳",a.amount.toFixed(2)]}),e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-200 text-gray-700",children:[a.involvedUsers," people"]})]})]},a.id))})]})})}function v({totalBalance:s,totalOwed:l,totalReceiving:i}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(r,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(t,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Balance"}),e.jsx(j,{className:`h-5 w-5 ${s>=0?"text-emerald-500":"text-red-500"}`})]}),e.jsxs("div",{className:`text-2xl mb-1 ${s>=0?"text-emerald-600":"text-red-600"}`,children:["৳",Math.abs(s).toFixed(0)]}),e.jsx("div",{className:"text-xs text-gray-500",children:s>=0?"Net receiving":"Net owing"})]})}),e.jsx(r,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(t,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"You Owe"}),e.jsx(N,{className:"h-5 w-5 text-red-500"})]}),e.jsxs("div",{className:"text-2xl text-red-600 mb-1",children:["৳",l.toFixed(0)]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total debts"})]})}),e.jsx(r,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(t,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Owe You"}),e.jsx(y,{className:"h-5 w-5 text-emerald-500"})]}),e.jsxs("div",{className:"text-2xl text-emerald-600 mb-1",children:["৳",i.toFixed(0)]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total credits"})]})})]})}function F({activityData:s,loading:l,onGroupClick:i}){if(l)return e.jsx("div",{className:"max-w-7xl mx-auto space-y-10 pb-16",children:e.jsxs("section",{className:"rounded-[32px] border border-dashed border-emerald-200 bg-white p-12 text-center",children:[e.jsx(w,{className:"mx-auto h-10 w-10 text-emerald-500 animate-pulse"}),e.jsx("p",{className:"mt-6 text-gray-600",children:"Pulling your ledger..."})]})});if(!s)return e.jsx("div",{className:"max-w-7xl mx-auto space-y-10 pb-16 text-center text-gray-500",children:"No activity data yet. Log expenses or invite teammates to get movement."});const a=s.totalBalance||0,n=s.totalOwed||0,o=s.totalReceiving||0,c=Array.isArray(s.activities)?s.activities.length:0,d=[{label:"Live entries",value:c.toString(),hint:"Last 90 days"},{label:"Net position",value:`৳${Math.abs(a).toFixed(0)}`,hint:a>=0?"Net receiving":"Net owing"},{label:"Credits",value:`৳${o.toFixed(0)}`,hint:"Friends owe you"}];return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-10 pb-16",children:[e.jsx("section",{className:"rounded-[36px] bg-gradient-to-br from-gray-900 via-slate-900 to-emerald-900 p-10 text-white",children:e.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-end lg:justify-between",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-emerald-200",children:"Activity"}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-semibold leading-tight",children:"Mission log for every settlement"}),e.jsx("p",{className:"text-white/70 max-w-2xl",children:"Audit every move, filter by squads, and export a clean CSV whenever finance asks."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(m,{className:"rounded-full bg-white text-gray-900 hover:bg-white/90",children:"Export feed"}),e.jsx(m,{variant:"secondary",className:"rounded-full border-white/40 text-white hover:bg-white/10",children:"Subscribe to alerts"})]})]}),e.jsx("div",{className:"grid w-full max-w-sm gap-4 sm:grid-cols-3 lg:grid-cols-1",children:d.map(x=>e.jsxs("div",{className:"rounded-2xl border border-white/15 bg-white/10 p-4 backdrop-blur",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-white/70",children:x.label}),e.jsx("p",{className:"mt-3 text-3xl font-semibold",children:x.value}),e.jsx("p",{className:"text-xs text-white/60 mt-1",children:x.hint})]},x.label))})]})}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-[1.2fr_0.8fr]",children:[e.jsx(r,{className:"rounded-3xl border border-gray-200 shadow-sm",children:e.jsxs(t,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-gray-500",children:"Live feed"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Recent activity"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[c," updates • Chronological"]})]}),e.jsxs(m,{variant:"outline",className:"rounded-full",onClick:()=>window.print(),children:[e.jsx(b,{className:"mr-2 h-4 w-4"})," Snapshot"]})]}),e.jsx("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-gray-50 p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"rounded-full bg-white px-3 py-1",children:"All"}),e.jsx("span",{className:"rounded-full px-3 py-1 hover:bg-white",children:"Settlements"}),e.jsx("span",{className:"rounded-full px-3 py-1 hover:bg-white",children:"New groups"}),e.jsx("span",{className:"rounded-full px-3 py-1 hover:bg-white",children:"High spend"})]})}),e.jsx(f,{activities:s.activities||[],onGroupClick:i})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(r,{className:"rounded-3xl border border-gray-200 shadow-sm",children:e.jsxs(t,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-gray-500",children:"Balance lens"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Network snapshot"})]}),e.jsx(v,{totalBalance:a,totalOwed:n,totalReceiving:o})]})}),e.jsx(r,{className:"rounded-3xl border border-gray-200 shadow-sm",children:e.jsxs(t,{className:"space-y-4 p-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-gray-500",children:"Playbook"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Need-to-do next"})]}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsx("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-3",children:"Ping crews with open payables ≥ ৳5K."}),e.jsx("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-3",children:"Export ledger for finance Monday a.m."}),e.jsx("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-3",children:"Run Simplify debts if 10+ entries logged today."})]})]})})]})]})]})}export{F as ActivityPage};
